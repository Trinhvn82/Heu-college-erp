{% extends 'layouts/renter_base.html' %}
{% load humanize %}
{% block title %}Hợp đồng nhà{% endblock %}

{% block breadcrumb_items %}
<li class="breadcrumb-item"><a href="{% url 'houses' %}">Nhà</a></li>
<li class="breadcrumb-item active">Hợp đồng</li>
{% endblock %}

{% block content %}
<div class="card border-0 shadow-sm">
  <div class="card-body">
    <h3 class="h5 mb-3"><span class="fas fa-file-contract me-2"></span>Hợp đồng của {{ house.ten }}</h3>
    {% if contracts %}
    <div class="list-group">
      {% for c in contracts %}
        <a class="list-group-item list-group-item-action d-flex justify-content-between align-items-center"
           href="{% url 'contract_detail' contract_id=c.id %}">
          <span>
            <strong>{{ c.renter.hoten }}</strong>
            <small class="text-muted ms-2">{{ c.rent_from|date:'d/m/Y' }} → {{ c.rent_to|date:'d/m/Y'|default:'...' }}</small>
          </span>
          {% if c.active %}<span class="badge bg-success">Active</span>{% endif %}
        </a>
      {% endfor %}
    </div>
    {% else %}
      <div class="text-muted">Chưa có hợp đồng.</div>
    {% endif %}
  </div>
</div>
{% endblock %}
